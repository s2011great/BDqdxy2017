<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>百度前端学院耀耀学院Task2</title>
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        .container{
            width: 600px;
            margin:15% auto;
        }
        .container fieldset{
            height: 50px;
            border: none;
            margin: 20px;
        }
        .container fieldset label,.container fieldset div{
            display: inline-block;
        }
        label{
            width: 100px;
            text-align: right;
            vertical-align: top;
            font-size: 22px;
            font-weight: bold;
        }
        .container fieldset div{
            width: 400px;
            height: 50px;
        }
        input{
            width: 400px;
            height: 30px;
            border-radius: 5px;
            outline: none;
            font-size: 18px;
        }
        p{
            font-size: 16px;
            color: #CECECE;
            visibility: hidden;
        }
        #submit{
            height: 40px;
            width: 80px;
            background-color: #2B6CE3;
            border-radius: 5px;
            color: #fff;
            font-size: 18px;
            float: right;
        }
        .container fieldset div input:focus +p{
            visibility: visible;
        }
    </style>
</head>
<body>
    <div class="container">
        <form method="POST" novalidate target="nm_iframe">
            <fieldset class="formGroup">
                <label>名称</label>
                <div>
                    <input type="text" name="designation" id="name">
                    <p id="nameMes">必填，长度为4~16个字符</p>
                </div>
            </fieldset>
            <fieldset class="formGroup">
                <label>密码</label>
                <div>
                    <input type="password" name="password" id="psw">
                    <p id="pswMes">必填，长度为4~16个数字或者字符</p>
                </div>
            </fieldset>
            <fieldset class="formGroup">
                <label>密码确认</label>
                <div>
                    <input type="password" name="password" id="conPsw">
                    <p id="conPswMes">必填，请再次填写密码</p>
                </div>
            </fieldset>
            <fieldset class="formGroup">
                <label>邮箱</label>
                <div>
                    <input type="email" name="email" id="email">
                    <p id="emailMes">必填，请填写您的邮箱</p>
                </div>
            </fieldset>
            <fieldset class="formGroup">
                <label>手机</label>
                <div>
                    <input type="number" name="phoneNum" id="phone">
                    <p id="phoneMes">必填，请填写您的手机</p>
                </div>
            </fieldset>
            <input type="submit" name="submit" id="submit">
        </form>

        <iframe id="id_iframe" name="nm_iframe" style="display:none;"></iframe>
    </div>

    <script type="text/javascript">
        /*name检查函数*/
        function nameCheck(){
            var name = document.getElementById('name');
            var nameMes = document.getElementById('nameMes');
            if(name.value){
                if(!/\S{4,16}/.test(name.value)){
                    name.style.borderColor = "red";
                    nameMes.style.visibility = "visible";
                    nameMes.style.color = "red";
                    nameMes.innerText = "请填写长度为4~16的字符";
                }else{
                    name.style.borderColor = "green";
                    nameMes.style.visibility = "visible";
                    nameMes.style.color = "green";
                    nameMes.innerText = "内容符合要求";
                }
            }else{
                name.style.borderColor = "red";
                nameMes.style.visibility = "visible";
                nameMes.style.color = "red";
                nameMes.innerText = "名称不能为空";
            }
        }

         /*password检查函数*/
        function pswCheck(){
            var psw = document.getElementById('psw');
            var pswMes = document.getElementById('pswMes');
            if(psw.value){
                if(!/(\S|[0-9]){4,16}/.test(psw.value)){
                    psw.style.borderColor = "red";
                    pswMes.style.visibility = "visible";
                    pswMes.style.color = "red";
                    pswMes.innerText = "请填写长度为4~16的数字、字符";
                }else{
                    psw.style.borderColor = "green";
                    pswMes.style.visibility = "visible";
                    pswMes.style.color = "green";
                    pswMes.innerText = "内容符合要求";
                }
            }else{
                psw.style.borderColor = "red";
                pswMes.style.visibility = "visible";
                pswMes.style.color = "red";
                pswMes.innerText = "密码不能为空";
            }
        }


         /*conPsw检查函数*/
        function conPswCheck(){
            var conPsw = document.getElementById('conPsw');
            var psw = document.getElementById('psw');
            var conPswMes = document.getElementById('conPswMes');
            if(conPsw.value){
                if(conPsw.value != psw.value){
                    conPsw.style.borderColor = "red";
                    conPswMes.style.visibility = "visible";
                    conPswMes.style.color = "red";
                    conPswMes.innerText = "请与密码填写一致";
                }else{
                    conPsw.style.borderColor = "green";
                    conPswMes.style.visibility = "visible";
                    conPswMes.style.color = "green";
                    conPswMes.innerText = "内容符合要求";
                }
            }else{
                conPsw.style.borderColor = "red";
                conPswMes.style.visibility = "visible";
                conPswMes.style.color = "red";
                conPswMes.innerText = "密码不能为空";
            }
        }

         /*email检查函数*/
        function emailCheck(){
            var email = document.getElementById('email');
            var emailMes = document.getElementById('emailMes');
            if(email.value){
                if(!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(email.value)){
                    email.style.borderColor = "red";
                    emailMes.style.visibility = "visible";
                    emailMes.style.color = "red";
                    emailMes.innerText = "请填写正确的邮箱地址";
                }else{
                    email.style.borderColor = "green";
                    emailMes.style.visibility = "visible";
                    emailMes.style.color = "green";
                    emailMes.innerText = "内容符合要求";
                }
            }else{
                email.style.borderColor = "red";
                emailMes.style.visibility = "visible";
                emailMes.style.color = "red";
                emailMes.innerText = "邮箱地址不能为空";
            }
        }


        /*phone检查函数*/
        function phoneCheck(){
            var phone = document.getElementById('phone');
            var phoneMes = document.getElementById('phoneMes');
            if(phone.value){
                if(!/^1[0-9]{10}$/.test(phone.value)){
                    phone.style.borderColor = "red";
                    phoneMes.style.visibility = "visible";
                    phoneMes.style.color = "red";
                    phoneMes.innerText = "请填写正确的手机号码";
                }else{
                    phone.style.borderColor = "green";
                    phoneMes.style.visibility = "visible";
                    phoneMes.style.color = "green";
                    phoneMes.innerText = "内容符合要求";
                }
            }else{
                phone.style.borderColor = "red";
                phoneMes.style.visibility = "visible";
                phoneMes.style.color = "red";
                phoneMes.innerText = "手机号码不能为空";
            }
        }


        /*提交事件处理函数*/
        var form = document.getElementsByTagName('form');
        form[0].addEventListener('submit',function(){
            nameCheck();
            pswCheck();
            conPswCheck();
            emailCheck();
            phoneCheck();
        },false);
    </script>
</body>
</html>
